<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" href="static/main.css">
    <script src="https://kit.fontawesome.com/16d33ecbbb.js" crossorigin="anonymous"></script>

    <title>Receipt Generator</title>

<!--    <script src="static/ck-editor.js" ></script>-->
    <script src="https://cdn.ckeditor.com/ckeditor5/19.1.1/inline/ckeditor.js"></script>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top">
    <div class="container">
        <a class="navbar-brand" href="#">Receipt Generator</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse " id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item px-1">
                    <a type="button"  data-toggle="modal" data-target="#exampleModal" class="nav-link btn btn-sm btn-info text-white"  href="#">Add Tax </a>
                </li>
                <li class="nav-item px-1">
                    <a type="button"  data-toggle="modal" data-target="#exampleModal2" class="nav-link btn btn-sm btn-warning text-white"  href="#">Add Discount </a>
                </li>

                <li class="nav-item px-1">
                    <a class="nav-link btn btn-sm btn-success text-white" onclick="generatePDF();" id="print" href="#">Download<span class="sr-only">(current)</span></a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<section class="w-100">
    <div class="col-sm-12">
        <div class="row py-4">

            <div id="print_doc" class="col-sm-12 col-md-12 col-lg-8 col-lg-6 p-3 mx-auto bg-whitee receipt_wrapper">
                <div class="row" style="padding: 0 14px;">

                    <div class="col-sm-12 row mx-auto header_bottom_boder pb-4">
                        <div class="col-sm-12 col-md-4 pt-3">
                            <div class="form-group img_wrapper" style="">
                                <label id="img_label" data-toggle="tooltip" data-placement="right" title="Click to add image" for="vmimg"><i class="far fa-plus-square print_hide"></i></label>
                                <input required id="vmimg" name="image" type="file" onchange="readURL(this);" />
                                <img  data-toggle="tooltip" data-placement="right" title="Click center toggle to add image" style="" class="blah" id="image" src="static/No-Image-Available.png" alt="your image" />
                                <small id="emailHelp" style="font-size: 22px;" class="form-text text-muted"></small>
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-4 px-0 py-0  " >
                            <label for="bs_name" class="no-label"></label>
                            <input type="text" class="form-control no-border input_title" id="bs_name" placeholder="[ Business Name ]">

                            <label for="bs_address" class="no-label"></label>
                            <input type="text" class="form-control no-border" id="bs_address" placeholder="[ Business Address 1]">

                            <label for="bs_City" class="no-label"></label>
                            <input type="text" class="form-control no-border" id="bs_City" placeholder="[ City ]">

                            <label for="bs_State" class="no-label"></label>
                            <input type="text" class="form-control no-border" id="bs_State" placeholder="[ State ]">

                            <label for="bs_Postal Code" class="no-label"></label>
                            <input type="text" class="form-control no-border" id="bs_Postal Code" placeholder="[ Postal Code ]">

                            <label for="bs_phone" class="no-label"></label>
                            <input type="text" class="form-control no-border" id="bs_phone" placeholder="[ Phone Number ]">

                            <label for="bs_email" class="no-label"></label>
                            <input type="text" class="form-control no-border" id="bs_email" placeholder="[ Email Address ]">


                        </div>
                        <div class="col-sm-12 col-md-4 ">
                            <label for="editor_title_t" class="no-label"></label>
                            <input value="Receipt" type="text" class="form-control no-border input_title text-right" id="editor_title_t"  placeholder="Receipt">
                        </div>
                    </div>
                    <div class="col-sm-12 row mx-auto py-5">
                        <div class="col-sm-12 col-md-6 row">
                            <div class="col-sm-12 col-md-4">
                                <label for="bs_billingto" class="no-label"></label>
                                <input type="text" class="form-control no-border input_title_sm" id="bs_billingto" placeholder="Billing To: ">
                            </div>
                            <div class="col-sm-12 col-md-8">
                                <label for="bs_Client" class="no-label"></label>
                                <input type="text" class="form-control no-border " id="bs_Client" placeholder="[ Client Name ]">

                                <label for="client_address" class="no-label"></label>
                                <input type="text" class="form-control no-border" id="client_address" placeholder="[ Client Address Line 1]">

                                <label for="client_City" class="no-label"></label>
                                <input type="text" class="form-control no-border" id="client_City" placeholder="[ City ]">

                                <label for="client_state" class="no-label"></label>
                                <input type="text" class="form-control no-border" id="client_state" placeholder="[ State ]">

                                <label for="client_PostalCode" class="no-label"></label>
                                <input type="text" class="form-control no-border" id="client_PostalCode" placeholder="[ Postal Code ]">

                            </div>
                        </div>
                        <div id="clone_me"  class="col-sm-12 col-md-6 ">
                            <div class="row cloned">
                                <div class="col-sm-6 text-right">
                                    <label for="bs_invoice_no" class="no-label"></label>
                                    <input type="text" class="form-control no-border input_title_sm text-right " id="bs_invoice_no" placeholder="Invoice Number: ">
                                </div>
                                <div class="col-sm-6 text-right">
                                    <label for="bs_invoice_no_text" class="no-label"></label>
                                    <input type="text" class="form-control no-border text-right" id="bs_invoice_no_text" placeholder="Invoice Number: ">
                                </div>
                            </div>
                            <div class="row cloned">
                                <div class="col-sm-6 text-right">
                                    <label for="bs_datw" class="no-label"></label>
                                    <input type="text" class="form-control no-border input_title_sm text-right" id="bs_datw" placeholder="Date: ">
                                </div>
                                <div class="col-sm-6 text-right">
                                    <label for="bs_date_no_text" class="no-label"></label>
                                    <input value="" type="text" class="form-control no-border text-right" id="bs_date_no_text"  placeholder="">
                                </div>
                            </div>
                            <i id="invoice_add" class="fas fa-plus-square text-success print_hide" data-toggle="tooltip" data-placement="left" title="Add another row"></i>
                        </div>
                    </div>
                    <div class="col-sm-12 row mx-auto py-5">
                        <table class="table table-bordered" id="table">
                            <thead>
                            <tr>
                                <th scope="col">Description</th>
                                <th scope="col">Quantity</th>
                                <th scope="col">Unit Price</th>
                                <th scope="col">Amount</th>
                                <th scope="col" class="print_hide"></th>
                            </tr>
                            </thead>
                            <tbody>
                                <tr id="t_row1" class="tab_row">
                                    <th scope="row">
                                        <label for="bs_description" class="no-label"></label>
                                        <input value="" type="text" class="form-control no-border" id="bs_description" placeholder="Service 1 Description">
                                    </th>
                                    <th scope="row">
                                        <label for="bs_quantity" class="no-label"></label>
                                        <input value="5" type="number" class="form-control no-border" id="bs_quantity" placeholder="1">
                                    </th>
                                    <th scope="row">
                                        <label for="bs_unit_price" class="no-label"></label>
                                        <input value="100" type="number" class="form-control no-border" id="bs_unit_price" placeholder="20">
                                    </th>
                                    <th scope="row">
                                        <span>Ksh </span><span class="ammounts_total"></span>
                                    </th>
                                    <th scope="row" class="print_hide">

                                    </th>
                                </tr>


                                <tr>
                                    <td id="total_border" class="totat-print-border" colspan="2" rowspan="3">
                                        <button id="addrow" class="btn btn-success btn-sm print_hide" data-toggle="tooltip" data-placement="left" title="Add another row"><i class="fas fa-plus-square" ></i> Add row</button>
                                        <div class="custom-control custom-switch print_hide">
                                            <input checked="checked" name="ttt" value="off"  type="checkbox" class="custom-control-input" id="customSwitch1">
                                            <label class="custom-control-label" for="customSwitch1"></label>
                                        </div>
                                    </td>
                                    <td class="py-0">
                                        <label for="bs_Total" class="no-label"></label>
                                        <input type="text" class="form-control no-border input_title_sm text-bold-placehoder" id="bs_Total" placeholder="Total: ">
                                        <button  data-toggle="modal" data-target="#usetax"   class="btn btn-info print_hide text-white"><span data-toggle="tooltip" title="Add Tax" data-placement="bottom">T</span></button>
                                        <button data-toggle="modal" data-target="#usediscount"   class="btn btn-warning print_hide text-white"><span data-toggle="tooltip" title="Add Discount" data-placement="bottom">D</span></button>


                                    </td>
                                    <td colspan="2" class="text-bold-custom">
                                        <span>Ksh </span><span id="total_txt">0</span>
                                    </td>
                                </tr>
                                <tr class="checkbox-click-hide">
                                    <td class="py-0">
                                        <label for="bs_paid_amount" class="no-label"></label>
                                        <input type="text" class="form-control no-border input_title_sm text-bold-placehoder" id="bs_paid_amount" placeholder="Paid Amount: ">
                                    </td>
                                    <td colspan="2" class="text-bold-custom">
                                        <div class="d-flex align-items-center">

                                            <label for="paid_amount_input" class="no-label"></label>
                                            Ksh <input  value="0" type="number" class="form-control no-border ml-2" id="paid_amount_input" placeholder="Amount">
                                        </div>
                                    </td>
                                </tr>
                                <tr class="checkbox-click-hide">
                                    <td class="py-0">
                                        <label for="bs_paid_balance" class="no-label"></label>
                                        <input type="text" class="form-control no-border input_title_sm text-bold-placehoder" id="bs_paid_balance" placeholder="Balance Due: ">
                                    </td>
                                    <td colspan="2" class="text-bold-custom">
                                        Ksh <span id="balance_duee">0</span>
                                    </td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                    <div class="col-sm-12 row mx-auto py-5">
                        <label for="validationTextarea" class="text-center w-100 border-bottom">Notes / Terms</label>
                        <textarea rows="10" class="form-control no-border w-100 text-center" id="validationTextarea" placeholder="Notes / Terms" required></textarea>
                    </div>

                </div>
            </div>





            <!-- Modal -->
            <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header" style="padding: 2px 8px;">
                            <h5 class="modal-title" id="exampleModalLabel">Add Tax</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body" >
                            <div class="col-sm-12">
                                <div style="padding: 4px 14px; display: none;" id="alert_dangerr" class="alert alert-danger" role="alert">
                                    Please fill the form
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div style="padding: 4px 14px; display: none;" id="alert_success" class="alert alert-success" role="alert">
                                    Tax Added
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="tax_name">Name</label>
                                        <input type="text" class="form-control" id="tax_name" placeholder="Name">
                                    </div>
                                    <div class="form-group">
                                        <label for="tax_input">Tax</label>
                                        <input type="number" class="form-control" id="tax_input" placeholder="amount">
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <table class="table">
                                        <thead>
                                        <tr>
                                            <th scope="col">#</th>
                                            <th scope="col">Name</th>
                                            <th scope="col">Value</th>
                                            <th scope="col">Action</th>
                                        </tr>
                                        </thead>
                                        <tbody id="tax_tbody">


                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <div class="row px-4">

                                <button type="button" id="tax_form_submit" class="btn btn-sm btn-primary mr-3">Save </button>
                                <div style="display: none" id="spinner" class="spinner-border text-success" role="status">
                                    <span class="sr-only">Loading...</span>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="modal fade" id="exampleModal2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel2" aria-hidden="true">
                <div class="modal-dialog modal-lg modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header" style="padding: 2px 8px;">
                            <h5 class="modal-title" id="exampleModalLabel2">Add discount</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body" >
                            <div class="col-sm-12">
                                <div style="padding: 4px 14px; display: none;" id="alert_dangerr2" class="alert alert-danger" role="alert">
                                    Please fill the form
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div style="padding: 4px 14px; display: none;" id="alert_success2" class="alert alert-success" role="alert">
                                    Discount Added
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="discount_name">Name</label>
                                        <select class="form-control" id="discount_name">
                                            <option value="Percentage" selected>Percentage</option>
                                            <option value="Cash">Cash</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="discount_value">Discount Value</label>
                                        <input type="number" class="form-control" id="discount_value" placeholder="value">
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <table class="table">
                                        <thead>
                                        <tr>
                                            <th scope="col">#</th>
                                            <th scope="col">Name</th>
                                            <th scope="col">Value</th>
                                            <th scope="col">Action</th>
                                        </tr>
                                        </thead>
                                        <tbody id="discount_tbody">


                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <div class="row px-4">

                                <button type="button" id="discount_form_submit" class="btn btn-sm btn-primary mr-3">Save </button>
                                <div style="display: none" id="discount_spinner" class="spinner-border text-success" role="status">
                                    <span class="sr-only">Loading...</span>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <!-- Modal -->
            <div class="modal fade" id="usetax" tabindex="-1" role="dialog" aria-labelledby="exampleModaltaxin" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header" style="padding: 2px 8px;">
                            <h5 class="modal-title" id="exampleModaltaxin">Choose Tax</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="col-sm-12">
                                <table class="table">
                                    <thead>
                                    <tr>
                                        <th scope="col">#</th>
                                        <th scope="col">Name</th>
                                        <th scope="col">Value</th>
                                        <th scope="col">Action</th>
                                    </tr>
                                    </thead>
                                    <tbody id="tax_tbody_aa">


                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" id="usediscount" tabindex="-1" role="dialog" aria-labelledby="exampleModaltaxing" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header" style="padding: 2px 8px;">
                            <h5 class="modal-title" id="exampleModaltaxing">Choose Discount</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="col-sm-12">
                                <table class="table">
                                    <thead>
                                    <tr>
                                        <th scope="col">#</th>
                                        <th scope="col">Name</th>
                                        <th scope="col">Value</th>
                                        <th scope="col">Action</th>
                                    </tr>
                                    </thead>
                                    <tbody id="tax_tbody_bb">


                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--        endmodal-->
        </div>
    </div>
</section>

<!-- Optional JavaScript -->

<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<script src="static/html2pdf.js"></script>
<script src="static/db.js" ></script>

<script src="static/main.js" ></script>

</body>
</html>